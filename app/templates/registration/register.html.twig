{% extends 'base.html.twig' %}

{% block title %}Inscription{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/registration.css') }}">
{% endblock %}

{% block body %}
<div class="login-container">
    <div class="login-card p-4 p-md-5">
        <div class="login-header text-center mb-4">
            <img src="{{ asset('images/logo_quernel_auto.png') }}" alt="Quernel Auto" class="login-logo mb-4">
            <h1 class="h3 mb-3 font-weight-normal">Inscription</h1>
        </div>

        {{ form_start(registrationForm, {'attr': {'class': 'registration-form'}}) }}
            {% if not registrationForm.vars.valid %}
                <div class="alert alert-danger">
                    Veuillez corriger les erreurs ci-dessous
                </div>
            {% endif %}
            
            <div class="form-row">
                <div class="form-group">
                    {{ form_label(registrationForm.firstname) }}
                    {{ form_widget(registrationForm.firstname, {
                        'attr': {
                            'class': 'form-control ' ~ (registrationForm.firstname.vars.valid ? '' : 'is-invalid')
                        }
                    }) }}
                    {{ form_errors(registrationForm.firstname) }}
                </div>
                <div class="form-group">
                    {{ form_label(registrationForm.lastname) }}
                    {{ form_widget(registrationForm.lastname, {
                        'attr': {
                            'class': 'form-control ' ~ (registrationForm.lastname.vars.valid ? '' : 'is-invalid')
                        }
                    }) }}
                    {{ form_errors(registrationForm.lastname) }}
                </div>
            </div>

            <div class="form-group">
                {{ form_label(registrationForm.email) }}
                {{ form_widget(registrationForm.email, {
                    'attr': {
                        'class': 'form-control ' ~ (registrationForm.email.vars.valid ? '' : 'is-invalid')
                    }
                }) }}
                {{ form_errors(registrationForm.email) }}
            </div>

            <div class="form-group">
                {{ form_label(registrationForm.plainPassword) }}
                {{ form_widget(registrationForm.plainPassword, {
                    'attr': {
                        'class': 'form-control ' ~ (registrationForm.plainPassword.vars.valid ? '' : 'is-invalid')
                    }
                }) }}
                {{ form_errors(registrationForm.plainPassword) }}
            </div>

            <div class="form-group">
                {{ form_label(registrationForm.address) }}
                {{ form_widget(registrationForm.address, {
                    'attr': {
                        'class': 'form-control ' ~ (registrationForm.address.vars.valid ? '' : 'is-invalid')
                    }
                }) }}
                {{ form_errors(registrationForm.address) }}
            </div>

            <div class="form-row">
                <div class="form-group">
                    {{ form_label(registrationForm.city) }}
                    {{ form_widget(registrationForm.city, {
                        'attr': {
                            'class': 'form-control ' ~ (registrationForm.city.vars.valid ? '' : 'is-invalid')
                        }
                    }) }}
                    {{ form_errors(registrationForm.city) }}
                </div>
                <div class="form-group">
                    {{ form_label(registrationForm.postalCode) }}
                    {{ form_widget(registrationForm.postalCode, {
                        'attr': {
                            'class': 'form-control ' ~ (registrationForm.postalCode.vars.valid ? '' : 'is-invalid')
                        }
                    }) }}
                    {{ form_errors(registrationForm.postalCode) }}
                </div>
            </div>

            <div class="form-row">
                <div class="form-group">
                    {{ form_label(registrationForm.country) }}
                    {{ form_widget(registrationForm.country, {
                        'attr': {
                            'class': 'form-select ' ~ (registrationForm.country.vars.valid ? '' : 'is-invalid')
                        }
                    }) }}
                    {{ form_errors(registrationForm.country) }}
                </div>
                <div class="form-group">
                    {{ form_label(registrationForm.phoneNumber) }}
                    {{ form_widget(registrationForm.phoneNumber, {
                        'attr': {
                            'class': 'form-control ' ~ (registrationForm.phoneNumber.vars.valid ? '' : 'is-invalid')
                        }
                    }) }}
                    {{ form_errors(registrationForm.phoneNumber) }}
                </div>
            </div>

            <div class="form-group text-center">
                <button type="submit" class="btn btn-login">S'inscrire</button>
            </div>
        {{ form_end(registrationForm) }}

        <div class="text-center mt-4">
            <a href="{{ path('app_login') }}" class="text-decoration-none">Déjà inscrit ? Connectez-vous</a>
        </div>
    </div>
</div>
{% endblock %} 